# 25.11 Release notes

```{default-domain} nix
```

## New features and highlights

- New {doc}`../nixos-services/user-guides/epics-firewall` NixOS module,
  which simplifies configuring the firewall for EPICS clients and servers.
- New [DBWR] and [PVWS] packages
  along with corresponding NixOS modules were added.
  These packages together enable you to serve Phoebus {file}`.bob` displays
  as web pages.

  The integration of DBWR, PVWS,
  was made to be compatible
  with running Archiver Appliance in the same Tomcat server.

  For more information,
  follow the {doc}`../nixos-services/user-guides/dbwr` guide.
- Added the `pvaPy` Python module,
  along with its optional dependencies.
- {pkg}`epnix.archiver-appliance` was upgraded from `2.0.10` to {samp}`2.1.{x}`.
- {pkg}`epnix.phoebus-olog` was upgraded from `4.7.7` to {samp}`5.1.{x}`.
- The {pkg}`epnix.support.opcua` support module was upgraded from `0.10.0` to {samp}`0.11.{x}`.
- The {pkg}`epnix.support.twincat-ads` support module was upgraded from an unreleased version to {samp}`2.1.{x}`.
- The {option}`programs.phoebus-client` module gained a `package` and a `finalPackage` option
  so that you can customize your Phoebus build
  and get files from the customized Phoebus package
  (change also backported to 25.05).

  [DBWR]: https://github.com/ornl-epics/dbwr
  [PVWS]: https://github.com/ornl-epics/pvws

## Breaking changes

No breaking change were introduced in this EPNix release.

:::{warning}
The IOC module system
(the "old way" of packaging IOCs)
was deprecated in EPNix 25.05
and EPNix 25.11 is the last release
where this style of packaging is still possible.

If you haven't already,
follow the {doc}`../ioc/user-guides/deprecations/migrating-from-modules-development` guide
to migrate to the "new style" of developing IOCs.
:::

## Documentation

### For developing EPICS IOCs

- The new {doc}`../ioc/user-guides/testing/integration-tests` article
  guides you through using integration tests in EPNix tops,
  in which you can start a fleet of NixOS VMs
  running IOCs and simulators.
- The new {doc}`../ioc/user-guides/dependencies` article
  guides you through adding and debugging dependencies for EPICS tops
  and EPICS support modules.
- The new {doc}`../ioc/explanations/dependency-types` articles are more of a "deep-dive" explanation
  on what the various `buildInputs`, `nativeBuildInputs`, `propagatedBuildInputs`
  means when packaging EPICS software by using Nix.

### For deploying NixOS machines

- The {doc}`../nixos-services/user-guides/ioc-services` guide
  now has a section <project:../nixos-services/user-guides/ioc-services.md#writable-location>
  which shows how to handle files written by IOCs,
  such as {file}`.sav` files.

### For contributing to EPNix

- A new step by step tutorial that guides you through {doc}`../contributing/tutorials/packaging-asyn`
  for EPNix,
  as an example support module.
- A new article on the {doc}`../contributing/guides/prerequisites` to contributing to EPNix.

### Other documentation changes

- A brand new {doc}`../glossary`.
- More packages are now included in the {doc}`../pkgs/packages` page,
  which now includes Python modules,
  Linux kernel modules,
  and EPICS support modules
  (which were on another page).
- With this update
  there is a mechanism for adding a redirection for moved documentation pages,
  to avoid breaking URLs.
- Links to EPNix packages and options
  now have a nice icon next to them.
- Hovering internal links
  now give a nice preview of the link target
  (change also backported to the 25.05 documentation).
- EPNix documentation older than 23.11 included were removed
  from the EPNix website,
  as they used another documentation framework.

## EPNix internals

- With this release,
  a regular CI job checks the links in the documentation
  to see if they're still valid.
- Another CI job that runs on Pull Requests
  check that web page redirections are added
  for moved documentation articles.
- We now use [`editorconfig-checker`]
  to check the consistency of the EPNix source code
  according to the <source:.editorconfig> file.
  This checker is more maintained,
  and checks indentation.
- The [Vale] rules that check the documentation writing style
  now have much fewer false positives and fewer duplicated rules.
- By using {ref}`Intersphinx <ext-intersphinx>`,
  the EPNix documentation can now refer to objects
  defined in other Sphinx documentation websites,
  such as the {external+epics:doc}`EPICS <index>`,
  [Python],
  or {external+sphinx:doc}`Sphinx <index>` documentation.
- You can now include [PlantUML] diagrams in the documentation
  thanks to the [`sphinxcontrib-plantuml`] plugin.

  [`editorconfig-checker`]: https://editorconfig-checker.github.io/
  [Vale]: https://vale.sh/
  [Python]: https://docs.python.org/3/
  [PlantUML]: https://plantuml.com/
  [`sphinxcontrib-plantuml`]: https://github.com/sphinx-contrib/plantuml/
